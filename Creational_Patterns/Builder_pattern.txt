üß± Builder Pattern (Complete Guide)
1Ô∏è‚É£ Problem First (Why Builder Pattern?)

Imagine a class with many optional parameters.

‚ùå Without Builder (Problematic Code)
class User {
    String name;
    int age;
    String email;
    String phone;
    String address;

    User(String name, int age, String email, String phone, String address) {
        this.name = name;
        this.age = age;
        this.email = email;
        this.phone = phone;
        this.address = address;
    }
}

‚ùå Issues:

Too many constructor parameters
Hard to remember order
Many null values
Not readable
Not flexible

User u = new User("Gopi", 21, null, null, "Chennai"); // ugly ‚ùå


This is called Telescoping Constructor Problem.

2Ô∏è‚É£ What is Builder Pattern?
‚úÖ Definition (Interview Ready)

Builder Pattern is a creational design pattern that is used to construct complex objects step-by-step, allowing the same construction process to create different representations.

3Ô∏è‚É£ Simple Idea (In One Line)

üëâ Separate object construction from its representation

4Ô∏è‚É£ Real-World Example üåç
üçî Ordering Burger

Bread ‚úî
Patty ‚úî
Cheese ‚ùì
Egg ‚ùì
Extra sauce ‚ùì

You don‚Äôt want 100 constructors for every combination.

5Ô∏è‚É£ Builder Pattern Structure
Product        -> Complex object (User, House, Car)
Builder        -> Builds step by step
ConcreteBuilder-> Actual implementation
Director       -> Optional (controls steps)

6Ô∏è‚É£ Basic Builder Pattern (Without Director)
‚úÖ Step 1: Product Class
class User {
    private String name;
    private int age;
    private String email;
    private String phone;

    private User(UserBuilder builder) {
        this.name = builder.name;
        this.age = builder.age;
        this.email = builder.email;
        this.phone = builder.phone;
    }

    @Override
    public String toString() {
        return "User{name='" + name + "', age=" + age +
                ", email='" + email + "', phone='" + phone + "'}";
    }

    // Builder Class
    static class UserBuilder {
        private String name;
        private int age;
        private String email;
        private String phone;

        public UserBuilder setName(String name) {
            this.name = name;
            return this;
        }

        public UserBuilder setAge(int age) {
            this.age = age;
            return this;
        }

        public UserBuilder setEmail(String email) {
            this.email = email;
            return this;
        }

        public UserBuilder setPhone(String phone) {
            this.phone = phone;
            return this;
        }

        public User build() {
            return new User(this);
        }
    }
}

‚úÖ Step 2: Usage (Main Method)
public class Main {
    public static void main(String[] args) {

        User user = new User.UserBuilder()
                .setName("Gopi")
                .setAge(21)
                .setEmail("gopi@gmail.com")
                .build();

        System.out.println(user);
    }
}

‚úî Output
User{name='Gopi', age=21, email='gopi@gmail.com', phone='null'}

7Ô∏è‚É£ Why Builder is Better?
Problem	Builder Solution
Many constructors	One builder
Unreadable	Fluent & readable
Null values	Optional fields
Order confusion	No order issue
8Ô∏è‚É£ Builder with Mandatory Fields

Sometimes name & age are mandatory.

static class UserBuilder {
    private String name;
    private int age;
    private String email;

    public UserBuilder(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public UserBuilder setEmail(String email) {
        this.email = email;
        return this;
    }

    public User build() {
        return new User(this);
    }
}


Usage:

User user = new User.UserBuilder("Gopi", 21)
        .setEmail("gopi@gmail.com")
        .build();

9Ô∏è‚É£ Builder Pattern with Director (Advanced)
üèó Director controls construction steps
Step 1: Builder Interface
interface HouseBuilder {
    void buildWalls();
    void buildRoof();
    void buildDoor();
    House getHouse();
}

Step 2: Product
class House {
    String walls;
    String roof;
    String door;

    @Override
    public String toString() {
        return "House [walls=" + walls + ", roof=" + roof + ", door=" + door + "]";
    }
}

Step 3: Concrete Builder
class ConcreteHouseBuilder implements HouseBuilder {

    private House house = new House();

    public void buildWalls() {
        house.walls = "Brick Walls";
    }

    public void buildRoof() {
        house.roof = "Concrete Roof";
    }

    public void buildDoor() {
        house.door = "Wooden Door";
    }

    public House getHouse() {
        return house;
    }
}

Step 4: Director
class Director {
    private HouseBuilder builder;

    public Director(HouseBuilder builder) {
        this.builder = builder;
    }

    public House constructHouse() {
        builder.buildWalls();
        builder.buildRoof();
        builder.buildDoor();
        return builder.getHouse();
    }
}

Step 5: Main
public class Main {
    public static void main(String[] args) {
        HouseBuilder builder = new ConcreteHouseBuilder();
        Director director = new Director(builder);

        House house = director.constructHouse();
        System.out.println(house);
    }
}

üîü Builder vs Factory vs Singleton
Pattern	Purpose
Singleton	One object only
Factory	Create object based on type
Builder	Create complex object step-by-step
1Ô∏è‚É£1Ô∏è‚É£ When to Use Builder Pattern?

‚úÖ When object:

Has many optional parameters
Needs immutability
Requires readable object creation
Used in LLD / System Design

1Ô∏è‚É£2Ô∏è‚É£ Common Interview Questions

Q: Is Builder immutable?
üëâ Yes, usually product is immutable

Q: Builder vs Constructor?
üëâ Builder is readable & flexible

Q: Used in real frameworks?
üëâ Yes

StringBuilder
Lombok @Builder
OkHttp, Retrofit

üìù SHORT REVISION NOTES (VERY IMPORTANT)
Builder Pattern:
- Creational Design Pattern
- Used to create complex objects
- Solves telescoping constructor problem
- Uses method chaining
- Improves readability & flexibility
- Supports optional fields
- Can be used with or without Director
